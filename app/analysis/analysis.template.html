<h2>I am analysis tab</h2>
<input date-range-picker class="form-control date-picker" type="text" ng-model="$ctrl.datePicker.date" />
<p>The date range is {{$ctrl.datePicker.date}}</p>

<div>
    <button ng-click="$ctrl.startAnalysis()">Start Analysis</button>
    <div>
        <div ng-repeat="column in $ctrl.columnNamesObjs">
            <input ng-checked="column.isDefault" ng-model="column.isChecked" type="checkbox" name="{{column.name}}" value="{{column.name}}">
            {{column.name}}
        </div>
    </div>
</div>

<table st-table="$ctrl.displayed" st-safe-src="$ctrl.data" class="table table-striped">
    <thead>
        <col>
        <colgroup ng-repeat="outerColumn in $ctrl.outerColumnNames" span="4"></colgroup>
        <tr>
            <th>Name</th>
            <th ng-repeat="outerColumn in $ctrl.outerColumnNames" colspan="4" scope="colgroup">
                {{outerColumn.name}}
            </th>
        </tr>
        <tr>
            <th></th>
            <th ng-repeat-start="outerColumn in $ctrl.outerColumnNames" scope="col"
                st-sort="$ctrl.getters.value.bind(null, $index, 'Average')">Average</th>
            <th scope="col"
                st-sort="$ctrl.getters.value.bind(null, $index, 'Minimum')">Minimum</th>
            <th scope="col"
                st-sort="$ctrl.getters.value.bind(null, $index, 'Maximum')">Maximum</th>
            <th ng-repeat-end scope="col"
                st-sort="$ctrl.getters.value.bind(null, $index, 'StdDev')">StdDev</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="element in $ctrl.displayed">
            <td scope="col">{{element.name}}</td>
            <td ng-repeat-start="value in element.values" scope="col">{{value.Average.value}}</td>
            <td scope="col">{{value.Minimum.value}}</td>
            <td scope="col">{{value.Maximum.value}}</td>
            <td ng-repeat-end scope="col">{{value.StdDev.value}}</td>
        </tr>
    </tbody>
</table>

